# Торговая Стратегия Triple Screen Александра Элдера

## Обзор

Этот проект реализует торговую стратегию "Тройной Экран" доктора Александра Элдера для криптовалютных рынков. Система автоматизирует торговые решения, анализируя несколько таймфреймов с использованием трехфильтрового подхода Элдера для определения высоковероятных торговых возможностей.

## Особенности

- **Анализ нескольких таймфреймов**: Анализ тренда, точек входа и подтверждения на трех различных таймфреймах
- **Два режима торговли**: Одновременная поддержка внутридневного и свинг-трейдинга
- **Оповещения в реальном времени**: Отправка торговых сигналов в Telegram при обнаружении возможностей
- **Управление рисками**: Реализация механизмов стоп-лосс, тейк-профит и трейлинг-стоп
- **Развертывание в Docker**: Простое контейнерное развертывание с использованием Docker Compose
- **Модульная архитектура**: Четко разделенные компоненты для генерации сигналов и уведомлений

## Архитектура системы

Система состоит из двух основных компонентов:

1. **Crypto Monitor**: Реализует стратегию Triple Screen Элдера для анализа рыночных данных и генерации сигналов
2. **Telegram Service**: Отправляет уведомления в Telegram-бот при обнаружении торговых сигналов

## Детали стратегии

### Стратегия "Тройной Экран" Элдера

Стратегия использует три "экрана" (фильтра) на нескольких таймфреймах для определения и подтверждения торговых возможностей:

1. **Первый фильтр: Направление тренда (Старший таймфрейм)**
   - Использует направление гистограммы MACD на недельном/дневном графике
   - Бычий тренд, когда гистограмма MACD растет
   - Медвежий тренд, когда гистограмма MACD падает

2. **Второй фильтр: Рыночная волна (Средний таймфрейм)**
   - Использует осцилляторы для поиска движений против тренда
   - Для бычьих трендов: Покупка, когда Индекс силы падает ниже нуля, а Стохастик ниже 30
   - Для медвежьих трендов: Короткие продажи, когда Индекс силы поднимается выше нуля, а Стохастик выше 70

3. **Третий фильтр: Выбор времени входа (Короткий таймфрейм)**
   - Использует пересечение ценой 5-периодной EMA на самом коротком таймфрейме
   - Для ДЛИННЫХ позиций: Цена пересекает EMA снизу вверх
   - Для КОРОТКИХ позиций: Цена пересекает EMA сверху вниз

## Установка и настройка

### Предварительные требования

- Docker и Docker Compose
- Токен Telegram-бота (для оповещений)

### Настройка окружения

1. Создайте файл `.env` в корне проекта со следующими переменными:
   ```
   TELEGRAM_TOKEN=ваш_токен_телеграм_бота
   DEFAULT_CHAT_ID=ваш_идентификатор_чата
   ```

### Запуск системы

1. Соберите и запустите сервисы:
   ```bash
   docker-compose up -d
   ```

2. Проверьте логи для мониторинга стратегии:
   ```bash
   docker-compose logs -f elder-strategy
   ```

## Параметры конфигурации

Стратегию можно настроить, отредактировав параметры `ElderStrategyManager` в файле `eldar_strategy_filters.py`:

```python
manager = ElderStrategyManager(
    exchange_id='binance',     # Используемая биржа
    symbol='BTC/USDT',         # Торговая пара
    intraday_interval=1200,    # Интервал проверки для внутридневной торговли (секунды)
    swing_interval=3600,       # Интервал проверки для свинг-трейдинга (секунды)
    run_intraday=True,         # Включить/выключить внутридневную стратегию
    run_swing=True             # Включить/выключить свинг-стратегию
)
```

### Конфигурация таймфреймов

Таймфреймы для каждого режима можно настроить в классе `ElderTripleScreenStrategy`:

```python
self.timeframes = {
    'SWING': {'trend': '1w', 'entry': '1d', 'intraday': '1h'},
    'INTRADAY': {'trend': '1d', 'entry': '1h', 'intraday': '15m'}
}
```

## Разработка

### Структура проекта

```
crypto_monitor/
  ├── eldar_strategy_filters.py  # Основная реализация стратегии
  ├── Dockerfile                 # Dockerfile для стратегии
  └── requirements.txt           # Python-зависимости

telegram_service/
  ├── app.py                     # FastAPI-сервис для оповещений Telegram
  ├── Dockerfile                 # Dockerfile для сервиса Telegram
  └── requirements.txt           # Python-зависимости

docker-compose.yml               # Конфигурация Docker Compose
```

## Устранение неполадок

### Распространенные проблемы

1. **Не генерируются сигналы**: 
   - Убедитесь, что API биржи работает корректно
   - Проверьте, имеет ли указанная торговая пара достаточный объем и данные
   - Удостоверьтесь, что таймфреймы правильно настроены для инструмента

2. **Оповещения Telegram не работают**:
   - Проверьте правильность TELEGRAM_TOKEN и DEFAULT_CHAT_ID в файле .env
   - Проверьте логи сервиса telegram-bot: `docker-compose logs telegram-bot`

## Предупреждение о рисках

Данное программное обеспечение предназначено только для образовательных и информационных целей. Торговля криптовалютами сопряжена со значительным риском потерь и подходит не каждому инвестору. Разработчики данного программного обеспечения не несут ответственности за любые финансовые потери, понесенные при использовании этой системы.

## Лицензия

Этот проект лицензирован по лицензии MIT - подробности см. в файле LICENSE.